<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon class="menu-icon"><img src="assets/imgs/ic_menu.png"></ion-icon>
    </button>
    <ion-title>{{"create_account" | translate}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div class="form" padding-left padding-right>
 
    <p text-center padding-bottom margin-bottom>{{"sign_up_label" | translate}}</p>
    <ion-list>
      <ion-item>  
        <ion-label>{{"phone" | translate}}</ion-label>
        <ion-input type="tel" text-right [(ngModel)]="user.phone"></ion-input>
      </ion-item>
      <ion-item>
          <ion-label>Nombre</ion-label>
          <ion-input type="text" text-right [(ngModel)]="user.name"></ion-input>
        </ion-item>
      <ion-item>
        <ion-label>Nickname</ion-label>
        <ion-input type="text" text-right [(ngModel)]="user.nickname"></ion-input>
      </ion-item>
      <form [formGroup]="form" novalidate>
      <ion-item>
          <ion-label float><!-- {{"login_box1" | translate}} -->Email</ion-label>
          <ion-input type="email" text-right formControlName="email" [(ngModel)]="user.email"></ion-input>
        </ion-item>
        <ng-container *ngIf="form.get('email').errors && form.get('email').dirty">
          <p color="danger" ion-text *ngIf="form.get('email').hasError('required')">Campo requerido</p>
          <p color="danger" ion-text *ngIf="form.get('email').hasError('email')">Email invalido</p>
        </ng-container>
       
        <div class="d-flex">
            <ion-item>
              <ion-label>{{"login_box2" | translate}}</ion-label>
              <ion-input type={{types}} text-right formControlName="password" type="password" [(ngModel)]="user.password" (ionBlur)="removeSpaces(user.password)"></ion-input>
            </ion-item>
            <ion-icon name="ios-eye-outline" class="text-light eye-icon" [class.active]="types == 'text'" (click)="type()"></ion-icon>
          </div>
          <ng-container *ngIf="form.get('password').errors && form.get('password').dirty">
            <p color="danger" ion-text *ngIf="form.get('password').hasError('required')">Campo requeriod</p>
            <p color="danger" ion-text *ngIf="form.get('password').hasError('minlength' || form.get('password').hasError('pattern'))">Requiere minimo 6 digitos</p>
          </ng-container>
          </form>
    </ion-list>
    <button ion-button full class="bg-thime btn-round btn-text" (click)="register()">Registrar</button>
    <p text-center>
      <small>
        {{"tnc_prelabel" | translate}} 
        <span class="text-sky"> {{"tnc" | translate}} </span>
      </small>
    </p>
  </div>
</ion-content>
